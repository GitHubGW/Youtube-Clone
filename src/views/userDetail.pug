extends layouts/main.pug
include mixins/videoBlock.pug

block content
  .user-profile 
    .user-profile-container
      .user-profile__header
        .profile_avatar
          if user.avatarUrl===undefined
            img.u-avatar(src="https://www.flaticon.com/svg/vstatic/svg/64/64572.svg?token=exp=1618995660~hmac=8f7a07b15c5fd69fb3ab92339f979640")
          else 
            img.u-avatar(src=user.avatarUrl)
        .profile__username
          h4 
            |이름
            h5 #{user.name}
        .profile__email
          h4 
            |이메일
            h5 @#{user.email}
        .profile__githubid
          h4
            |깃허브
            h5 @#{user.githubId}
        .profile__kakaoid
          h4
            |카카오
            h5 @#{user.kakaoId}

      if loggedUser
        if user.id === loggedUser.id
          .user-profile__btns
            a(href=`/users${routes.editProfile}` class="edit_profile")
              button 프로필 수정
            a(href=`/users${routes.changePassword}` class="edit_password")
              button 비밀번호 변경
      .uploaded-videos
        each item in user.videos 
          h2 #{user}
          +videoBlock({
            id: item.id,
            title: item.title,
            views: item.views,
            videoFile: item.fileUrl,
            creator: item.creator
          })

